Bootstrap:docker  
From:openfoam/openfoam7-paraview56

%labels
MAINTAINER Thomas Green

%environment
EIGEN_RHEO=/opt/eigen/ThirdParty/Eigen3.2.9
PETSC_DIR=/opt/petsc/ThirdParty/petsc-3.13.3
PETSC_ARCH=arch-linux2-c-opt
export EIGEN_RHEO PETSC_DIR PETSC_ARCH

%runscript
exec /bin/bash /bin/echo "Not supported"

%post -c /bin/bash
# OpenFOAM expects bash - Singularity uses /bin/sh to exec scripts.

# Create some common mountpoints for systems without overlayfs
mkdir /scratch
mkdir /apps

